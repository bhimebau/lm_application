<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>uEACos: ueaclib.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>ueaclib.c File Reference</h1><code>#include &lt;msp430x16x.h&gt;</code><br>
<code>#include &lt;signal.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &quot;<a class="el" href="ueaclib_8h-source.html">ueaclib.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ueac_8h-source.html">ueac.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="external__flash_8h-source.html">external_flash.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="interpreter_8h-source.html">interpreter.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="filter_8h-source.html">filter.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="conversion_8h-source.html">conversion.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="global_8h-source.html">global.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="timer_8h-source.html">timer.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="calibrate_8h-source.html">calibrate.h</a>&quot;</code><br>

<p>
Include dependency graph for ueaclib.c:<p><center><img src="ueaclib_8c__incl.png" border="0" usemap="#ueaclib.c_map" alt=""></center>
<map name="ueaclib.c_map">
<area href="ueaclib_8h.html" shape="rect" coords="152,160,226,186" alt="">
<area href="ueac_8h.html" shape="rect" coords="158,210,220,237" alt="">
<area href="external__flash_8h.html" shape="rect" coords="132,261,246,288" alt="">
<area href="interpreter_8h.html" shape="rect" coords="142,312,236,338" alt="">
<area href="filter_8h.html" shape="rect" coords="161,362,217,389" alt="">
<area href="conversion_8h.html" shape="rect" coords="141,413,237,440" alt="">
<area href="global_8h.html" shape="rect" coords="154,464,224,490" alt="">
<area href="timer_8h.html" shape="rect" coords="158,514,220,541" alt="">
<area href="calibrate_8h.html" shape="rect" coords="148,565,230,592" alt="">
</map>

<p>
<a href="ueaclib_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a0">DELTA</a>&nbsp;&nbsp;&nbsp;900</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a1">PWM_COUNT_MASK</a>&nbsp;&nbsp;&nbsp;0x1F</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a3">init_pins</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a4">init_spi_0</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a5">init_serial_1</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a6">init_timer_a</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a7">init_dac</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a8">init_a2d</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a9">start_a2d_converter</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a10">Set_DCO</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a11">clear_latches</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a12">system_reset</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a13">init_sys</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a14">send_spi_byte</a> (unsigned char data_byte)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a15">putchar</a> (int in_char)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a16">getchar</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a17">stop_a2d_converter</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a18">wait_a2d_busy</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a19">write_analog_mux</a> (unsigned char select)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a20">write_current</a> (int <a class="el" href="structchannel.html">channel</a>, int value_uA)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a21">write_dac</a> (int <a class="el" href="structchannel.html">channel</a>, int value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a22">led_pwm</a> (int enable)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a23">clear_led_screen</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a24">write_led</a> (int <a class="el" href="structchannel.html">channel</a>, int enable)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a25">write_lla</a> (int <a class="el" href="structchannel.html">channel</a>, int enable)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ueaclib_8c.html#a2">dac_translation</a> []</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0"></a><!-- doxytag: member="ueaclib.c::DELTA" ref="a0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DELTA&nbsp;&nbsp;&nbsp;900          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00064">64</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00107">Set_DCO()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member="ueaclib.c::PWM_COUNT_MASK" ref="a1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define PWM_COUNT_MASK&nbsp;&nbsp;&nbsp;0x1F          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00440">440</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00441">led_pwm()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a11"></a><!-- doxytag: member="ueaclib.c::clear_latches" ref="a11" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void clear_latches           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00101">101</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00079">init_sys()</a>.<div class="fragment"><pre class="fragment"><a name="l00101"></a>00101                          {
<a name="l00102"></a>00102   P1OUT=0x00;
<a name="l00103"></a>00103   P5OUT=0x3F;
<a name="l00104"></a>00104   P5OUT=0x00;
<a name="l00105"></a>00105 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a23"></a><!-- doxytag: member="ueaclib.c::clear_led_screen" ref="a23" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void clear_led_screen           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00489">489</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueac_8c-source.html#l00064">ueac_execute_instruction()</a>.<div class="fragment"><pre class="fragment"><a name="l00489"></a>00489                              {
<a name="l00490"></a>00490   P1OUT=0;
<a name="l00491"></a>00491   P5OUT=0x07;
<a name="l00492"></a>00492   P5OUT=0;
<a name="l00493"></a>00493   P2OUT&amp;=~0x01;
<a name="l00494"></a>00494 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a16"></a><!-- doxytag: member="ueaclib.c::getchar" ref="a16" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char getchar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00184">184</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="calibrate_8c-source.html#l00111">current_output_calibration()</a>, and <a class="el" href="main_8c-source.html#l00129">get_command()</a>.<div class="fragment"><pre class="fragment"><a name="l00184"></a>00184                    {
<a name="l00185"></a>00185   <span class="keywordtype">char</span> rx_data;
<a name="l00186"></a>00186   <span class="keywordflow">while</span> (!(IFG2&amp;URXIFG1));
<a name="l00187"></a>00187   rx_data= RXBUF1;
<a name="l00188"></a>00188   <span class="keywordflow">return</span> (rx_data);
<a name="l00189"></a>00189 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a8"></a><!-- doxytag: member="ueaclib.c::init_a2d" ref="a8" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void init_a2d           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC12 Initialization Function <h2><a class="anchor" name="AA">
Overview</a></h2>
This project utilizes the first 5 channels of the A/D. Each of the channels is setup to use the 3.3V supply as the Reference. <br>
<h2><a class="anchor" name="BB">
Converter Usage</a></h2>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<th>Pin</th><th>Function</th><th>Description </th></tr>
<tr>
<td>P6.0</td><td>A/D 0</td><td>Reads External Mux for CH 0-7 </td></tr>
<tr>
<td>P6.1</td><td>A/D 1</td><td>Reads External Mux for CH 8-15 </td></tr>
<tr>
<td>P6.2</td><td>A/D 2</td><td>Reads External Mux for CH 16-23 </td></tr>
<tr>
<td>P6.3</td><td>A/D 3</td><td>Reads CH24 </td></tr>
<tr>
<td>P6.3</td><td>A/D 4</td><td>Reads VOP Voltage 10k//2.5k divider </td></tr>
</table>
<h2><a class="anchor" name="CC">
VOP Calculation</a></h2>
VOP_Voltage = AD_Counts_VOP/248 <h2><a class="anchor" name="D">
Converter Sampling Time Usage</a></h2>
t_sample&gt;(Rs+2k)x9.011x40pf+800nS; Rs is the channel external input resistance - 200 ohms for uEAC<br>
 t_sample&gt;2200x9.011x40pf+800nS=1.6uS 1.6uS = 12.8 clocks of the 8Mhz oscillator. Choose 16 for the sample clock divisor.<h2><a class="anchor" name="D">
Converter Sampling Time Usage</a></h2>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00350">350</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00079">init_sys()</a>.<div class="fragment"><pre class="fragment"><a name="l00350"></a>00350                      {
<a name="l00351"></a>00351   <span class="comment">// ADC12 Parameters</span>
<a name="l00352"></a>00352   <span class="comment">// Sample Hold Time - 16 clocks </span>
<a name="l00355"></a>00355 <span class="comment"></span>  ADC12CTL0 = SHT1_2|SHT0_2|MSC|REF2_5V|REFON|ADC12ON; <span class="comment">// sampling time set to 3.2uS </span>
<a name="l00356"></a>00356   ADC12CTL1 = SHP|CONSEQ0;                             <span class="comment">// sample sequence of channels and then stop </span>
<a name="l00357"></a>00357   ADC12MCTL0 =  SREF_2|INCH_0;                         <span class="comment">// Use Avcc (3.3V) as the reference, channels (0-7)   </span>
<a name="l00358"></a>00358   ADC12MCTL1 =  SREF_2|INCH_1;                         <span class="comment">// Use Avcc (3.3V) as the reference, channels (8-15)   </span>
<a name="l00359"></a>00359   ADC12MCTL2 =  SREF_2|INCH_2;                         <span class="comment">// Use Avcc (3.3V) as the reference, channels (16-23)   </span>
<a name="l00360"></a>00360   ADC12MCTL3 =  EOS|SREF_2|INCH_3;                     <span class="comment">// Use Avcc (3.3V) as the reference, channels (24)    </span>
<a name="l00361"></a>00361 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a7"></a><!-- doxytag: member="ueaclib.c::init_dac" ref="a7" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void init_dac           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00310">310</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00079">init_sys()</a>.<div class="fragment"><pre class="fragment"><a name="l00310"></a>00310                     {
<a name="l00311"></a>00311   <span class="comment">// Dac 0 Controls Sources </span>
<a name="l00312"></a>00312   <span class="comment">// Dac 1 Controls Sinks</span>
<a name="l00313"></a>00313   <span class="comment">// Parameters</span>
<a name="l00314"></a>00314   <span class="comment">// [14-13] DAC12SREFx (11) Use VeREF+-&gt;3.3V </span>
<a name="l00315"></a>00315   <span class="comment">// [12] DAC12RES (0) 12-Bit Resolution  </span>
<a name="l00316"></a>00316   <span class="comment">// [11-10] DAC12LSELx (00) Load DAC on write to the DAC12_0DAT register</span>
<a name="l00317"></a>00317   <span class="comment">// [9] DAC12CALON (1) Calibration active, poll until this bit is clear </span>
<a name="l00318"></a>00318   <span class="comment">// [8] DAC12IR (1) Input range = 1x</span>
<a name="l00319"></a>00319   <span class="comment">// [7-5] DAC12AMPx (111) High Speed, High Current </span>
<a name="l00320"></a>00320   <span class="comment">// [4] DAC12DF (0) Straight Binary </span>
<a name="l00321"></a>00321   <span class="comment">// [3] DAC12IE (0) Interrupt Disabled</span>
<a name="l00322"></a>00322   <span class="comment">// [2] DAC12IFG (x) Interrupt flag</span>
<a name="l00323"></a>00323   <span class="comment">// [1] DAC12ENC (1) Enable DAC conversion </span>
<a name="l00324"></a>00324   <span class="comment">// [0] DAC12GRP (0) Channel grouping disabled </span>
<a name="l00325"></a>00325   DAC12_0CTL = DAC12SREF1|DAC12SREF0|DAC12CALON|DAC12IR|DAC12AMP2|DAC12AMP1|DAC12AMP0|DAC12ENC;
<a name="l00326"></a>00326   <span class="keywordflow">while</span> (DAC12_0CTL&amp;DAC12CALON);  <span class="comment">// spin here until cal complete</span>
<a name="l00327"></a>00327 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a3"></a><!-- doxytag: member="ueaclib.c::init_pins" ref="a3" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void init_pins           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<em><b>P1 Usage</b></em> <table border="1" cellspacing="3" cellpadding="3">
<tr>
<th>Pin</th><th>Function</th><th>Direction</th><th>Select </th></tr>
<tr>
<td>P1.0</td><td>Latch_Data(0)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P1.1</td><td>Latch_Data(1)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P1.2</td><td>Latch_Data(2)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P1.3</td><td>Latch_Data(3)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P1.4</td><td>Latch_Data(4)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P1.5</td><td>Latch_Data(5)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P1.6</td><td>Latch_Data(6)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P1.7</td><td>Latch_Data(7)</td><td>Output</td><td>Dio </td></tr>
</table>
<p>
<em><b>P2 Usage</b></em> <table border="1" cellspacing="3" cellpadding="3">
<tr>
<th>Pin</th><th>Function</th><th>Direction</th><th>Select </th></tr>
<tr>
<td>P2.0</td><td>LED_OUT(24)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P2.1</td><td>LLA_ENABLE(24)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P2.2</td><td>BSL(0) FTDI CHB TXD</td><td>Input</td><td>Dio </td></tr>
<tr>
<td>P2.3</td><td>No Connect</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P2.4</td><td>No Connect</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P2.5</td><td>100k Pull-up Rosc</td><td>Input</td><td>Dio </td></tr>
<tr>
<td>P2.6</td><td>No Connect</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P2.7</td><td>FTDI nRTS</td><td>Input</td><td>Dio </td></tr>
</table>
<p>
<em><b>P3 Usage</b></em> <table border="1" cellspacing="3" cellpadding="3">
<tr>
<th>Pin</th><th>Function</th><th>Direction</th><th>Select </th></tr>
<tr>
<td>P3.0</td><td>FTDI nCTS</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P3.1</td><td>SIMO-0</td><td>Output</td><td><b>Sel</b> </td></tr>
<tr>
<td>P3.2</td><td>SOMI-0</td><td>Input</td><td><b>Sel</b> </td></tr>
<tr>
<td>P3.3</td><td>SCK-0</td><td>Output</td><td><b>Sel</b> </td></tr>
<tr>
<td>P3.4</td><td>UART0 TX</td><td>Output</td><td><b>Sel</b> </td></tr>
<tr>
<td>P3.5</td><td>UART0 RX</td><td>Input</td><td><b>Sel</b> </td></tr>
<tr>
<td>P3.6</td><td>UART1 TX</td><td>Output</td><td><b>Sel</b> </td></tr>
<tr>
<td>P3.7</td><td>UART1 RX</td><td>Input</td><td><b>Sel</b> </td></tr>
</table>
<p>
<em><b>P4 Usage</b></em> <table border="1" cellspacing="3" cellpadding="3">
<tr>
<th>Pin</th><th>Function</th><th>Direction</th><th>Select </th></tr>
<tr>
<td>P4.0</td><td>SPI nCS DAC CH 0-7</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P4.1</td><td>SPI nCS DAC CH 8-15</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P4.2</td><td>SPI nCS DAC CH 16-23</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P4.3</td><td>SPI nCS Serial Flash</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P4.4</td><td>Analog Mux Select (0)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P4.5</td><td>Analog Mux Select (1)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P4.6</td><td>Analog Mux Select (2)</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P4.7</td><td>8Mhz Osc Enable</td><td>Output</td><td>Dio </td></tr>
</table>
<p>
<em><b>P5 Usage</b></em> <table border="1" cellspacing="3" cellpadding="3">
<tr>
<th>Pin</th><th>Function</th><th>Direction</th><th>Select </th></tr>
<tr>
<td>P5.0</td><td>LED Latch Clk CH 0-7</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P5.1</td><td>LED Latch Clk CH 8-15</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P5.2</td><td>LED Latch Clk CH 16-23</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P5.3</td><td>LLA Latch Clk CH 0-7</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P5.4</td><td>LLA Latch Clk CH 8-15</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P5.5</td><td>LLA Latch Clk CH 16-23</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P5.6</td><td>No Connect</td><td>Output</td><td>Dio </td></tr>
<tr>
<td>P5.7</td><td>No Connect</td><td>Output</td><td>Dio </td></tr>
</table>
<p>
<em><b>P6 Usage</b></em> <table border="1" cellspacing="3" cellpadding="3">
<tr>
<th>Pin</th><th>Function</th><th>Direction</th><th>Select </th></tr>
<tr>
<td>P6.0</td><td>VMUX_OUT(0)</td><td>Input</td><td><b>Sel</b> </td></tr>
<tr>
<td>P6.1</td><td>VMUX_OUT(1)</td><td>Input</td><td><b>Sel</b> </td></tr>
<tr>
<td>P6.2</td><td>VMUX_OUT(2)</td><td>Input</td><td><b>Sel</b> </td></tr>
<tr>
<td>P6.3</td><td>VMUX_OUT(3)</td><td>Input</td><td><b>Sel</b> </td></tr>
<tr>
<td>P6.4</td><td>VMUX_OUT(4)</td><td>Input</td><td><b>Sel</b> </td></tr>
<tr>
<td>P6.5</td><td>No Connect</td><td>Input</td><td>Dio </td></tr>
<tr>
<td>P6.6</td><td>DAC Control CH24</td><td>Input (analog output)</td><td><b>Sel</b> </td></tr>
<tr>
<td>P6.7</td><td>No Connect</td><td>Input</td><td>Dio </td></tr>
</table>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00191">191</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00079">init_sys()</a>.<div class="fragment"><pre class="fragment"><a name="l00191"></a>00191                      {
<a name="l00206"></a>00206   P1SEL = 0x00;
<a name="l00207"></a>00207   P1OUT = 0x00;
<a name="l00208"></a>00208   P1DIR = 0xFF;
<a name="l00209"></a>00209 
<a name="l00224"></a>00224   P2SEL = 0x00;
<a name="l00225"></a>00225   P2OUT = 0x00;
<a name="l00226"></a>00226   P2DIR = 0x5B;
<a name="l00227"></a>00227 
<a name="l00242"></a>00242   P3SEL = 0xFE;
<a name="l00243"></a>00243   P3OUT = 0x00;
<a name="l00244"></a>00244   P3DIR = 0x5B;
<a name="l00245"></a>00245 
<a name="l00260"></a>00260   P4SEL = 0x00;
<a name="l00261"></a>00261   P4OUT = 0x8F;   
<a name="l00262"></a>00262   P4DIR = 0xFF; 
<a name="l00277"></a>00277   P5SEL = 0x00;
<a name="l00278"></a>00278   P5OUT = 0x00;
<a name="l00279"></a>00279   P5DIR = 0xFF; 
<a name="l00280"></a>00280 
<a name="l00295"></a>00295   P6SEL = 0x5F;
<a name="l00296"></a>00296   P6OUT = 0x00;
<a name="l00297"></a>00297   P6DIR = 0xA0; 
<a name="l00298"></a>00298 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a5"></a><!-- doxytag: member="ueaclib.c::init_serial_1" ref="a5" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void init_serial_1           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00162">162</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00079">init_sys()</a>.<div class="fragment"><pre class="fragment"><a name="l00162"></a>00162                           {
<a name="l00163"></a>00163   <span class="keywordtype">char</span> temp;
<a name="l00164"></a>00164   <span class="comment">// Data Comm Port - Connected to FT2232 Port A</span>
<a name="l00165"></a>00165   UCTL1 = CHAR + SWRST;
<a name="l00166"></a>00166   UTCTL1 = SSEL1 + SSEL0;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168   <span class="comment">// 19.2k init (3.686400 Mhz Clock)</span>
<a name="l00169"></a>00169   UBR01=0xC0; 
<a name="l00170"></a>00170   UBR11=0x00;
<a name="l00171"></a>00171   UMCTL1=0x00; 
<a name="l00172"></a>00172   ME2 = 0x30;
<a name="l00173"></a>00173   UCTL1 = CHAR;
<a name="l00174"></a>00174   temp=RXBUF1;  <span class="comment">// Flush the RX buffer </span>
<a name="l00175"></a>00175   temp=RXBUF1;  
<a name="l00176"></a>00176 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a4"></a><!-- doxytag: member="ueaclib.c::init_spi_0" ref="a4" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void init_spi_0           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00140">140</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00079">init_sys()</a>.<div class="fragment"><pre class="fragment"><a name="l00140"></a>00140                        {
<a name="l00141"></a>00141   UCTL0 |= SWRST;                <span class="comment">// Place USART into RESET </span>
<a name="l00142"></a>00142   UCTL0  = CHAR|SYNC|MM|SWRST;   <span class="comment">// 8-bit,SPI,Master,Hold Module in RESET</span>
<a name="l00143"></a>00143   UTCTL0 = CKPH|SSEL1|SSEL0|STC; <span class="comment">// falling edge out,SMCLK,3-pin SPI (Works for LTC Parts)</span>
<a name="l00144"></a>00144   <span class="comment">// UTCTL0 = CKPL|SSEL1|SSEL0|STC; // falling edge out,SMCLK,3-pin SPI (Works for AT parts)</span>
<a name="l00145"></a>00145   <span class="comment">// LTC1660 DAC can handle a 5Mhz SCLK</span>
<a name="l00146"></a>00146   <span class="comment">// AT45DB041 Flash can handle 20Mhz SCLK </span>
<a name="l00147"></a>00147   UBR00  = 0x02;                 <span class="comment">// Run at SMCLK/2 - 8Mhz/2=4Mhz for normal operation</span>
<a name="l00148"></a>00148   UBR10  = 0x00;                 <span class="comment">// Upper half of SCLK control </span>
<a name="l00149"></a>00149   ME1    = USPIE0;               <span class="comment">// Enable the SPI module for UART0</span>
<a name="l00150"></a>00150   UMCTL0 = 0x00;                 <span class="comment">// Modulation control not used by SPI set to 0 according to User's Guide</span>
<a name="l00151"></a>00151   UCTL0 &amp;= ~SWRST;               <span class="comment">// release USART from RESET </span>
<a name="l00152"></a>00152 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a13"></a><!-- doxytag: member="ueaclib.c::init_sys" ref="a13" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void init_sys           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00079">79</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
References <a class="el" href="ueaclib_8c-source.html#l00101">clear_latches()</a>, <a class="el" href="ueaclib_8c-source.html#l00350">init_a2d()</a>, <a class="el" href="ueaclib_8c-source.html#l00310">init_dac()</a>, <a class="el" href="ueaclib_8c-source.html#l00191">init_pins()</a>, <a class="el" href="ueaclib_8c-source.html#l00162">init_serial_1()</a>, <a class="el" href="ueaclib_8c-source.html#l00140">init_spi_0()</a>, <a class="el" href="ueaclib_8c-source.html#l00300">init_timer_a()</a>, and <a class="el" href="ueaclib_8c-source.html#l00107">Set_DCO()</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.<div class="fragment"><pre class="fragment"><a name="l00079"></a>00079                     {
<a name="l00080"></a>00080   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
<a name="l00081"></a>00081   WDTCTL = WDTPW + WDTHOLD;    <span class="comment">// Stop watchdog</span>
<a name="l00082"></a>00082   <a class="code" href="ueaclib_8c.html#a3">init_pins</a>();                 <span class="comment">// Setup the discrete I/O - important to enable 8Mhz crystal </span>
<a name="l00083"></a>00083   <span class="keywordflow">for</span> (i = 0xFFFF;i&gt;0;i--);    <span class="comment">// Delay for XTAL and oscillator to fire up and settle</span>
<a name="l00084"></a>00084   <a class="code" href="ueaclib_8c.html#a10">Set_DCO</a>();                   <span class="comment">// calibrate DCO using the 32.768Khz crystal to 3.686400 Mhz  </span>
<a name="l00085"></a>00085   <a class="code" href="ueaclib_8c.html#a4">init_spi_0</a>();
<a name="l00086"></a>00086   <a class="code" href="ueaclib_8c.html#a5">init_serial_1</a>();             <span class="comment">// initialize USB virtual serial port</span>
<a name="l00087"></a>00087   <a class="code" href="ueaclib_8c.html#a6">init_timer_a</a>();              
<a name="l00088"></a>00088   <a class="code" href="ueaclib_8c.html#a7">init_dac</a>();
<a name="l00089"></a>00089   <a class="code" href="ueaclib_8c.html#a8">init_a2d</a>();
<a name="l00090"></a>00090   <a class="code" href="ueaclib_8c.html#a11">clear_latches</a>();
<a name="l00091"></a>00091   _EINT();                     <span class="comment">// Global interrupt enable</span>
<a name="l00092"></a>00092 }
</pre></div>
<p>

<p>
Here is the call graph for this function:<p><center><img src="ueaclib_8c_a13_cgraph.png" border="0" usemap="#ueaclib_8c_a13_cgraph_map" alt=""></center>
<map name="ueaclib_8c_a13_cgraph_map">
<area href="ueaclib_8c.html#a11" shape="rect" coords="122,7,224,34" alt="">
<area href="ueaclib_8c.html#a8" shape="rect" coords="138,58,208,85" alt="">
<area href="ueaclib_8c.html#a7" shape="rect" coords="140,109,206,135" alt="">
<area href="ueaclib_8c.html#a3" shape="rect" coords="138,159,208,186" alt="">
<area href="ueaclib_8c.html#a5" shape="rect" coords="126,210,220,237" alt="">
<area href="ueaclib_8c.html#a4" shape="rect" coords="134,261,212,287" alt="">
<area href="ueaclib_8c.html#a6" shape="rect" coords="128,311,218,338" alt="">
<area href="ueaclib_8c.html#a10" shape="rect" coords="134,362,212,389" alt="">
</map>
    </td>
  </tr>
</table>
<a class="anchor" name="a6"></a><!-- doxytag: member="ueaclib.c::init_timer_a" ref="a6" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void init_timer_a           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00300">300</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00079">init_sys()</a>.<div class="fragment"><pre class="fragment"><a name="l00300"></a>00300                         {
<a name="l00301"></a>00301   <span class="comment">// SMCLK SOURCE (3.686400Mhz)</span>
<a name="l00302"></a>00302   <span class="comment">// Timer in Continuous Mode </span>
<a name="l00303"></a>00303   <span class="comment">// Clear the timer register (TAR)</span>
<a name="l00304"></a>00304   <span class="comment">// Compare 1 used as main time base at 1.25mS. </span>
<a name="l00305"></a>00305   TACTL=TASSEL1|MC1|TACLR;  <span class="comment">// Timer a sourced from 3.686400 Mhz SMCLK, continuous mode</span>
<a name="l00306"></a>00306   TACCR0=0x900;             <span class="comment">// 100uS interrupt rate</span>
<a name="l00307"></a>00307   TACCTL0=CCIE;             <span class="comment">// Enable the timer interrupt</span>
<a name="l00308"></a>00308 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a22"></a><!-- doxytag: member="ueaclib.c::led_pwm" ref="a22" args="(int enable)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void led_pwm           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>enable</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00441">441</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
References <a class="el" href="global_8c-source.html#l00060">high_time_limit</a>, and <a class="el" href="ueaclib_8c-source.html#l00440">PWM_COUNT_MASK</a>.
<p>
Referenced by <a class="el" href="timer_8c-source.html#l00066">timer_a0_irq()</a>.<div class="fragment"><pre class="fragment"><a name="l00441"></a>00441                           {
<a name="l00442"></a>00442   <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> counter=0;
<a name="l00443"></a>00443   <span class="keywordflow">if</span> (enable) {
<a name="l00444"></a>00444     counter++;
<a name="l00445"></a>00445     counter&amp;=<a class="code" href="ueaclib_8c.html#a1">PWM_COUNT_MASK</a>; 
<a name="l00446"></a>00446     <span class="keywordflow">if</span> (!counter) {
<a name="l00447"></a>00447       P1OUT=0xFF;
<a name="l00448"></a>00448       P5OUT=0x07;
<a name="l00449"></a>00449       P5OUT=0;
<a name="l00450"></a>00450       P2OUT|=0x01;
<a name="l00451"></a>00451     }
<a name="l00452"></a>00452     P1OUT=0xFF;
<a name="l00453"></a>00453     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[0]) P1OUT&amp;=~0x01;
<a name="l00454"></a>00454     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[1]) P1OUT&amp;=~0x02;
<a name="l00455"></a>00455     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[2]) P1OUT&amp;=~0x04;
<a name="l00456"></a>00456     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[3]) P1OUT&amp;=~0x08;
<a name="l00457"></a>00457     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[4]) P1OUT&amp;=~0x10;
<a name="l00458"></a>00458     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[5]) P1OUT&amp;=~0x20;
<a name="l00459"></a>00459     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[6]) P1OUT&amp;=~0x40;
<a name="l00460"></a>00460     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[7]) P1OUT&amp;=~0x80;
<a name="l00461"></a>00461     P5OUT=0x01;
<a name="l00462"></a>00462     P5OUT=0x00;
<a name="l00463"></a>00463     P1OUT=0xFF;
<a name="l00464"></a>00464     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[8]) P1OUT&amp;=~0x01;
<a name="l00465"></a>00465     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[9]) P1OUT&amp;=~0x02;
<a name="l00466"></a>00466     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[10]) P1OUT&amp;=~0x04;
<a name="l00467"></a>00467     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[11]) P1OUT&amp;=~0x08;
<a name="l00468"></a>00468     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[12]) P1OUT&amp;=~0x10;
<a name="l00469"></a>00469     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[13]) P1OUT&amp;=~0x20;
<a name="l00470"></a>00470     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[14]) P1OUT&amp;=~0x40;
<a name="l00471"></a>00471     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[15]) P1OUT&amp;=~0x80;
<a name="l00472"></a>00472     P5OUT=0x02;
<a name="l00473"></a>00473     P5OUT=0x00;
<a name="l00474"></a>00474     P1OUT=0xFF;
<a name="l00475"></a>00475     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[16]) P1OUT&amp;=~0x01;
<a name="l00476"></a>00476     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[17]) P1OUT&amp;=~0x02;
<a name="l00477"></a>00477     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[18]) P1OUT&amp;=~0x04;
<a name="l00478"></a>00478     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[19]) P1OUT&amp;=~0x08;
<a name="l00479"></a>00479     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[20]) P1OUT&amp;=~0x10;
<a name="l00480"></a>00480     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[21]) P1OUT&amp;=~0x20;
<a name="l00481"></a>00481     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[22]) P1OUT&amp;=~0x40;
<a name="l00482"></a>00482     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[23]) P1OUT&amp;=~0x80;
<a name="l00483"></a>00483     P5OUT=0x04;
<a name="l00484"></a>00484     P5OUT=0x00;
<a name="l00485"></a>00485     <span class="keywordflow">if</span> (counter&gt;=<a class="code" href="global_8c.html#a7">high_time_limit</a>[24]) P2OUT&amp;=~0x01;
<a name="l00486"></a>00486   }
<a name="l00487"></a>00487 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a15"></a><!-- doxytag: member="ueaclib.c::putchar" ref="a15" args="(int in_char)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int putchar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>in_char</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00178">178</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.<div class="fragment"><pre class="fragment"><a name="l00178"></a>00178                         {
<a name="l00179"></a>00179   <span class="keywordflow">while</span> (!(IFG2&amp;UTXIFG1));
<a name="l00180"></a>00180   TXBUF1=in_char;
<a name="l00181"></a>00181   <span class="keywordflow">return</span>(0);
<a name="l00182"></a>00182 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a14"></a><!-- doxytag: member="ueaclib.c::send_spi_byte" ref="a14" args="(unsigned char data_byte)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned char send_spi_byte           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>data_byte</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00154">154</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.<div class="fragment"><pre class="fragment"><a name="l00154"></a>00154                                                      {
<a name="l00155"></a>00155   TXBUF0 = data_byte;        <span class="comment">// buffer 1 write  </span>
<a name="l00156"></a>00156   <span class="keywordflow">while</span>(!(UTCTL0&amp;0x01));     <span class="comment">// wait until transmitter empty</span>
<a name="l00157"></a>00157   <span class="keywordflow">return</span>(RXBUF0);            <span class="comment">// return any received data</span>
<a name="l00158"></a>00158                              <span class="comment">// No data returned from DAC</span>
<a name="l00159"></a>00159                              <span class="comment">// SPI flash returns read data</span>
<a name="l00160"></a>00160 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a10"></a><!-- doxytag: member="ueaclib.c::Set_DCO" ref="a10" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Set_DCO           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00107">107</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
References <a class="el" href="ueaclib_8c-source.html#l00064">DELTA</a>.
<p>
Referenced by <a class="el" href="ueaclib_8c-source.html#l00079">init_sys()</a>.<div class="fragment"><pre class="fragment"><a name="l00107"></a>00107                     { 
<a name="l00108"></a>00108   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Compare, Oldcapture = 0;
<a name="l00109"></a>00109   CCTL0 = 0x0000;                       <span class="comment">// this too - see next comment</span>
<a name="l00110"></a>00110   CCTL1 = 0x0000;                       <span class="comment">// see if this fixes the clock cal issue</span>
<a name="l00111"></a>00111   CCTL2 = 0x0000;
<a name="l00112"></a>00112   CCTL2 = CCIS0 + CM0 + CAP;            <span class="comment">// Define CCR2, CAP, ACLK</span>
<a name="l00113"></a>00113   TACTL = TASSEL1 + TACLR + MC1;        <span class="comment">// SMCLK, continous mode</span>
<a name="l00114"></a>00114   <span class="keywordflow">while</span> (1) {
<a name="l00115"></a>00115     <span class="keywordflow">while</span> ((CCTL2 &amp; CCIFG) != CCIFG);   <span class="comment">// Wait until capture occured!</span>
<a name="l00116"></a>00116     CCTL2 &amp;= ~CCIFG;                    <span class="comment">// Capture occured, clear flag</span>
<a name="l00117"></a>00117     Compare = CCR2;                     <span class="comment">// Get current captured SMCLK</span>
<a name="l00118"></a>00118     Compare = Compare - Oldcapture;     <span class="comment">// SMCLK difference</span>
<a name="l00119"></a>00119     Oldcapture = CCR2;                  <span class="comment">// Save current captured SMCLK</span>
<a name="l00120"></a>00120     <span class="keywordflow">if</span> (<a class="code" href="ueaclib_8c.html#a0">DELTA</a> == Compare) {
<a name="l00121"></a>00121       <span class="keywordflow">break</span>;                            <span class="comment">// if equal, leave "while(1)"</span>
<a name="l00122"></a>00122     }
<a name="l00123"></a>00123     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ueaclib_8c.html#a0">DELTA</a> &lt; Compare) {         <span class="comment">// DCO is too fast, slow it down</span>
<a name="l00124"></a>00124       DCOCTL--;
<a name="l00125"></a>00125       <span class="keywordflow">if</span> (DCOCTL == 0xFF) {             <span class="comment">// Did DCO roll under?</span>
<a name="l00126"></a>00126         BCSCTL1--;                      <span class="comment">// Select next lower RSEL</span>
<a name="l00127"></a>00127       }
<a name="l00128"></a>00128     }
<a name="l00129"></a>00129     <span class="keywordflow">else</span> {                      
<a name="l00130"></a>00130       DCOCTL++;
<a name="l00131"></a>00131       <span class="keywordflow">if</span> (DCOCTL == 0x00) {             <span class="comment">// Did DCO roll over?</span>
<a name="l00132"></a>00132         BCSCTL1++;                      <span class="comment">// Select next higher RSEL</span>
<a name="l00133"></a>00133       }
<a name="l00134"></a>00134     }
<a name="l00135"></a>00135   }  
<a name="l00136"></a>00136   CCTL2 = 0;                              <span class="comment">// Stop CCR2 function</span>
<a name="l00137"></a>00137   TACTL = 0;                              <span class="comment">// Stop Timer_A</span>
<a name="l00138"></a>00138 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a9"></a><!-- doxytag: member="ueaclib.c::start_a2d_converter" ref="a9" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void start_a2d_converter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00363">363</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="timer_8c-source.html#l00066">timer_a0_irq()</a>.<div class="fragment"><pre class="fragment"><a name="l00363"></a>00363                                {
<a name="l00364"></a>00364   ADC12CTL0|=ENC|ADC12SC;                    <span class="comment">// start the converter </span>
<a name="l00365"></a>00365 }  
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a17"></a><!-- doxytag: member="ueaclib.c::stop_a2d_converter" ref="a17" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void stop_a2d_converter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00367">367</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.<div class="fragment"><pre class="fragment"><a name="l00367"></a>00367                               {
<a name="l00368"></a>00368   ADC12CTL0&amp;=~ENC;                           <span class="comment">// stop the converter </span>
<a name="l00369"></a>00369 }  
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a12"></a><!-- doxytag: member="ueaclib.c::system_reset" ref="a12" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void system_reset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00094">94</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="ueac_8c-source.html#l00064">ueac_execute_instruction()</a>.<div class="fragment"><pre class="fragment"><a name="l00094"></a>00094                         {
<a name="l00095"></a>00095   _DINT();
<a name="l00096"></a>00096   WDTCTL = WDTPW|WDTCNTCL|WDTIS_3;  <span class="comment">// start the watchdog, SMCLK ticks until reset </span>
<a name="l00097"></a>00097   P4OUT=0x8F;
<a name="l00098"></a>00098   <span class="keywordflow">while</span> (1);                        <span class="comment">// wedge here until the dog resets the core</span>
<a name="l00099"></a>00099 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a18"></a><!-- doxytag: member="ueaclib.c::wait_a2d_busy" ref="a18" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int wait_a2d_busy           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00371">371</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.<div class="fragment"><pre class="fragment"><a name="l00371"></a>00371                         {
<a name="l00372"></a>00372   <span class="keywordtype">int</span> count=0;
<a name="l00373"></a>00373   <span class="keywordflow">while</span> (ADC12CTL1&amp;ADC12BUSY) count++;
<a name="l00374"></a>00374   <span class="keywordflow">return</span> count;
<a name="l00375"></a>00375 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a19"></a><!-- doxytag: member="ueaclib.c::write_analog_mux" ref="a19" args="(unsigned char select)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void write_analog_mux           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>select</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00377">377</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="timer_8c-source.html#l00066">timer_a0_irq()</a>.<div class="fragment"><pre class="fragment"><a name="l00377"></a>00377                                             {
<a name="l00378"></a>00378   select&amp;=0x07;   <span class="comment">// clamp the input to 7 </span>
<a name="l00379"></a>00379   select&lt;&lt;=4;     <span class="comment">// shift to align with bits 6-4 (mux select bits)</span>
<a name="l00380"></a>00380   P4OUT&amp;=0x8F;    <span class="comment">// clear the mux select bits</span>
<a name="l00381"></a>00381   P4OUT|=select;  <span class="comment">// "or" in the new select value</span>
<a name="l00382"></a>00382 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a20"></a><!-- doxytag: member="ueaclib.c::write_current" ref="a20" args="(int channel, int value_uA)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void write_current           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>value_uA</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00384">384</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
References <a class="el" href="cal__table_8h-source.html#l00045">dac_translation</a>, <a class="el" href="ueac_8h-source.html#l00101">cal::i_200uA_offset</a>, <a class="el" href="ueac_8h-source.html#l00102">cal::i_zero_offset</a>, <a class="el" href="ueac_8h-source.html#l00111">ueac::pin_cal</a>, <a class="el" href="global_8c-source.html#l00054">ueac_state</a>, and <a class="el" href="ueaclib_8c-source.html#l00395">write_dac()</a>.
<p>
Referenced by <a class="el" href="calibrate_8c-source.html#l00111">current_output_calibration()</a>, <a class="el" href="lla_8c-source.html#l00134">evaluate_lla()</a>, <a class="el" href="lla_8c-source.html#l00100">lla_disable()</a>, <a class="el" href="lla_8c-source.html#l00116">lla_enable()</a>, <a class="el" href="main_8c-source.html#l00088">main()</a>, <a class="el" href="main_8c-source.html#l00151">print_grid_i()</a>, <a class="el" href="main_8c-source.html#l00113">scan_probes()</a>, and <a class="el" href="ueac_8c-source.html#l00064">ueac_execute_instruction()</a>.<div class="fragment"><pre class="fragment"><a name="l00384"></a>00384                                              {
<a name="l00385"></a>00385   <span class="keywordflow">if</span> (value_uA&gt;200) value_uA=200;
<a name="l00386"></a>00386   <span class="keywordflow">if</span> (value_uA&lt;-200) value_uA=-200;
<a name="l00387"></a>00387   <span class="keywordflow">if</span> (value_uA==0) {
<a name="l00388"></a>00388     <a class="code" href="ueaclib_8c.html#a21">write_dac</a>(<a class="code" href="structchannel.html">channel</a>,(<a class="code" href="cal__table_8h.html#a0">dac_translation</a>[200]+<a class="code" href="global_8c.html#a1">ueac_state</a>.<a class="code" href="structueac.html#o3">pin_cal</a>[<a class="code" href="structchannel.html">channel</a>].<a class="code" href="structcal.html#o1">i_zero_offset</a>));
<a name="l00389"></a>00389   }
<a name="l00390"></a>00390   <span class="keywordflow">else</span> {
<a name="l00391"></a>00391     <a class="code" href="ueaclib_8c.html#a21">write_dac</a>(<a class="code" href="structchannel.html">channel</a>,<a class="code" href="cal__table_8h.html#a0">dac_translation</a>[200-value_uA]+<a class="code" href="global_8c.html#a1">ueac_state</a>.<a class="code" href="structueac.html#o3">pin_cal</a>[<a class="code" href="structchannel.html">channel</a>].<a class="code" href="structcal.html#o0">i_200uA_offset</a>);
<a name="l00392"></a>00392   }
<a name="l00393"></a>00393 }
</pre></div>
<p>

<p>
Here is the call graph for this function:<p><center><img src="ueaclib_8c_a20_cgraph.png" border="0" usemap="#ueaclib_8c_a20_cgraph_map" alt=""></center>
<map name="ueaclib_8c_a20_cgraph_map">
<area href="ueaclib_8c.html#a21" shape="rect" coords="157,8,237,34" alt="">
<area href="external__flash_8h.html#a5" shape="rect" coords="286,8,393,34" alt="">
</map>
    </td>
  </tr>
</table>
<a class="anchor" name="a21"></a><!-- doxytag: member="ueaclib.c::write_dac" ref="a21" args="(int channel, int value)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void write_dac           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00395">395</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
References <a class="el" href="ueaclib_8c-source.html#l00154">send_spi_byte()</a>.
<p>
Referenced by <a class="el" href="calibrate_8c-source.html#l00111">current_output_calibration()</a>, and <a class="el" href="ueaclib_8c-source.html#l00384">write_current()</a>.<div class="fragment"><pre class="fragment"><a name="l00395"></a>00395                                       {
<a name="l00396"></a>00396   <span class="comment">// write_dac(channel,value)</span>
<a name="l00397"></a>00397   <span class="comment">// channel = 0-24 where the channels are the control voltages for the current sources. The current </span>
<a name="l00398"></a>00398   <span class="comment">// sources are labeled starting at the top left corner as follows.</span>
<a name="l00399"></a>00399   <span class="comment">//  0  1  2  3  4</span>
<a name="l00400"></a>00400   <span class="comment">//  5  6  7  8  9</span>
<a name="l00401"></a>00401   <span class="comment">// 10 11 12 13 14</span>
<a name="l00402"></a>00402   <span class="comment">// 15 16 17 18 19</span>
<a name="l00403"></a>00403   <span class="comment">// 20 21 22 23 24</span>
<a name="l00404"></a>00404   <span class="comment">//</span>
<a name="l00405"></a>00405   <span class="comment">// Value = 0-1023 (10-bit) where the number represents a control voltage that is 0-3.3v. Each bit represents </span>
<a name="l00406"></a>00406   <span class="comment">// a voltage of 3.3v/1023 or 3.22mV. </span>
<a name="l00407"></a>00407   <span class="comment">//</span>
<a name="l00408"></a>00408   <span class="comment">// Hardware Note: Channels 0-23 are implemented by external SPI octal dacs (Linear LTC1660 components). Channel </span>
<a name="l00409"></a>00409   <span class="comment">// 24 is implemented using DAC0 on the MSP430 </span>
<a name="l00410"></a>00410   <span class="comment">// </span>
<a name="l00411"></a>00411   <span class="comment">// Initial Version BH 11/1/05</span>
<a name="l00412"></a>00412 
<a name="l00413"></a>00413   <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a> &lt; 8) {
<a name="l00414"></a>00414     P4OUT&amp;=~0x01;                                   <span class="comment">// assert the proper chip select</span>
<a name="l00415"></a>00415     <a class="code" href="structchannel.html">channel</a>++;                                      <span class="comment">// increment the channel number LTC1660 channels run from 1-8   </span>
<a name="l00416"></a>00416   }           
<a name="l00417"></a>00417   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a> &lt; 16) {
<a name="l00418"></a>00418     P4OUT&amp;=~0x02;                                   <span class="comment">// assert the proper chip select</span>
<a name="l00419"></a>00419     <a class="code" href="structchannel.html">channel</a>-=7;                                     <span class="comment">// bring channel number into range 1-8</span>
<a name="l00420"></a>00420   } 
<a name="l00421"></a>00421   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a> &lt; 24) {
<a name="l00422"></a>00422     P4OUT&amp;=~0x04;                                   <span class="comment">// assert the proper chip select</span>
<a name="l00423"></a>00423     <a class="code" href="structchannel.html">channel</a>-=15;                                    <span class="comment">// bring channel number into range 1-8</span>
<a name="l00424"></a>00424   }
<a name="l00425"></a>00425   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a> == 24) {
<a name="l00426"></a>00426     DAC12_0DAT=value&lt;&lt;2;                            <span class="comment">// Shift up to a 12-bit number and write to the MSP430 DAC0 </span>
<a name="l00427"></a>00427     <span class="keywordflow">return</span>;                                         <span class="comment">// This is all to do for the MSP430 DAC case, exit...</span>
<a name="l00428"></a>00428   }
<a name="l00429"></a>00429   <span class="keywordflow">else</span> {                                            <span class="comment">// channel number provided is too large, exit... </span>
<a name="l00430"></a>00430     <span class="keywordflow">return</span>;
<a name="l00431"></a>00431   }
<a name="l00432"></a>00432   value=(value&amp;0x03FF)&lt;&lt;2;                          <span class="comment">// mask and shift the value to align properly in the dac sentence</span>
<a name="l00433"></a>00433   <a class="code" href="structchannel.html">channel</a>&lt;&lt;=4;
<a name="l00434"></a>00434   *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;value)+1)|=((<span class="keywordtype">unsigned</span> char) <a class="code" href="structchannel.html">channel</a>); <span class="comment">// "or" in the channel number to the value data</span>
<a name="l00435"></a>00435   <a class="code" href="external__flash_8h.html#a5">send_spi_byte</a>(*(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;value)+1));             <span class="comment">// send the high byte </span>
<a name="l00436"></a>00436   <a class="code" href="external__flash_8h.html#a5">send_spi_byte</a>(*((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;value));                 <span class="comment">// send the high byte </span>
<a name="l00437"></a>00437   P4OUT|=0x0F;                                                <span class="comment">// deassert all of the spi dac chip selects   </span>
<a name="l00438"></a>00438 }
</pre></div>
<p>

<p>
Here is the call graph for this function:<p><center><img src="ueaclib_8c_a21_cgraph.png" border="0" usemap="#ueaclib_8c_a21_cgraph_map" alt=""></center>
<map name="ueaclib_8c_a21_cgraph_map">
<area href="external__flash_8h.html#a5" shape="rect" coords="137,8,243,34" alt="">
</map>
    </td>
  </tr>
</table>
<a class="anchor" name="a24"></a><!-- doxytag: member="ueaclib.c::write_led" ref="a24" args="(int channel, int enable)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void write_led           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>enable</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00497">497</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="calibrate_8c-source.html#l00111">current_output_calibration()</a>, <a class="el" href="main_8c-source.html#l00088">main()</a>, and <a class="el" href="calibrate_8c-source.html#l00061">scan_leds()</a>.<div class="fragment"><pre class="fragment"><a name="l00497"></a>00497                                          {
<a name="l00498"></a>00498   <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> led_state = 0x00000000;
<a name="l00499"></a>00499   <span class="keywordflow">if</span> (enable) {
<a name="l00500"></a>00500     <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;8) {
<a name="l00501"></a>00501       *((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state) |= 0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>;       <span class="comment">// Save the new state of the LED in led_state</span>
<a name="l00502"></a>00502       P1OUT=*((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state);                  <span class="comment">// Place the relevant byte of led_state on the latch bus </span>
<a name="l00503"></a>00503       P5OUT|=0x01;                                            <span class="comment">// strobe the chip select for the target latch</span>
<a name="l00504"></a>00504       P5OUT&amp;=~0x01;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00505"></a>00505     }
<a name="l00506"></a>00506     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;16) {
<a name="l00507"></a>00507       <a class="code" href="structchannel.html">channel</a>-=8;
<a name="l00508"></a>00508       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+1) |= 0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>;  
<a name="l00509"></a>00509       P1OUT=*(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+1);  
<a name="l00510"></a>00510       P5OUT=0x02;
<a name="l00511"></a>00511       P5OUT&amp;=~0x02;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00512"></a>00512     }
<a name="l00513"></a>00513     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;24) {
<a name="l00514"></a>00514       <a class="code" href="structchannel.html">channel</a>-=16;
<a name="l00515"></a>00515       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+2) |= 0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>;  
<a name="l00516"></a>00516       P1OUT=*(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+2);  
<a name="l00517"></a>00517       P5OUT=0x04;
<a name="l00518"></a>00518       P5OUT&amp;=~0x04;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00519"></a>00519     }
<a name="l00520"></a>00520     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>==24) {
<a name="l00521"></a>00521       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+3) |= 0x01;  
<a name="l00522"></a>00522       P2OUT|=0x01;
<a name="l00523"></a>00523     }
<a name="l00524"></a>00524   }
<a name="l00525"></a>00525   <span class="keywordflow">else</span> {
<a name="l00526"></a>00526     <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;8) {
<a name="l00527"></a>00527       *((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state) &amp;= ~(0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>);  
<a name="l00528"></a>00528       P1OUT=*((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state);  
<a name="l00529"></a>00529       P5OUT=0x01;
<a name="l00530"></a>00530       P5OUT&amp;=~0x01;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00531"></a>00531     }
<a name="l00532"></a>00532     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;16) {
<a name="l00533"></a>00533       <a class="code" href="structchannel.html">channel</a>-=8;
<a name="l00534"></a>00534       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+1) &amp;= ~(0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>);  
<a name="l00535"></a>00535       P1OUT=*(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+1);  
<a name="l00536"></a>00536       P5OUT=0x02;
<a name="l00537"></a>00537       P5OUT&amp;=~0x02;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00538"></a>00538     }
<a name="l00539"></a>00539     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;24) {
<a name="l00540"></a>00540       <a class="code" href="structchannel.html">channel</a>-=16;
<a name="l00541"></a>00541       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+2) &amp;= ~(0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>);  
<a name="l00542"></a>00542       P1OUT=*(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+2);  
<a name="l00543"></a>00543       P5OUT=0x04;
<a name="l00544"></a>00544       P5OUT&amp;=~0x04;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00545"></a>00545     }
<a name="l00546"></a>00546     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>==24) {
<a name="l00547"></a>00547       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;led_state)+3) &amp;= 0xFE;  
<a name="l00548"></a>00548       P2OUT&amp;=0xFE;
<a name="l00549"></a>00549     }
<a name="l00550"></a>00550   }
<a name="l00551"></a>00551 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a25"></a><!-- doxytag: member="ueaclib.c::write_lla" ref="a25" args="(int channel, int enable)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void write_lla           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>enable</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ueaclib_8c-source.html#l00553">553</a> of file <a class="el" href="ueaclib_8c-source.html">ueaclib.c</a>.
<p>
Referenced by <a class="el" href="calibrate_8c-source.html#l00111">current_output_calibration()</a>, <a class="el" href="lla_8c-source.html#l00076">lla_add()</a>, <a class="el" href="lla_8c-source.html#l00100">lla_disable()</a>, <a class="el" href="lla_8c-source.html#l00116">lla_enable()</a>, <a class="el" href="main_8c-source.html#l00088">main()</a>, <a class="el" href="main_8c-source.html#l00151">print_grid_i()</a>, and <a class="el" href="main_8c-source.html#l00113">scan_probes()</a>.<div class="fragment"><pre class="fragment"><a name="l00553"></a>00553                                          {
<a name="l00554"></a>00554   <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> lla_state = 0x00000000;
<a name="l00555"></a>00555   <span class="keywordflow">if</span> (enable) {
<a name="l00556"></a>00556     <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;8) {
<a name="l00557"></a>00557       *((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state) |= 0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>;       <span class="comment">// Save the new state of the LED in lla_state</span>
<a name="l00558"></a>00558       P1OUT=*((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state);                  <span class="comment">// Place the relevant byte of lla_state on the latch bus </span>
<a name="l00559"></a>00559       P5OUT|=0x08;                                            <span class="comment">// strobe the chip select for the target latch</span>
<a name="l00560"></a>00560       P5OUT&amp;=~0x08;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00561"></a>00561     }
<a name="l00562"></a>00562     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;16) {
<a name="l00563"></a>00563       <a class="code" href="structchannel.html">channel</a>-=8;
<a name="l00564"></a>00564       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+1) |= 0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>;  
<a name="l00565"></a>00565       P1OUT=*(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+1);  
<a name="l00566"></a>00566       P5OUT=0x10;
<a name="l00567"></a>00567       P5OUT&amp;=~0x10;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00568"></a>00568     }
<a name="l00569"></a>00569     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;24) {
<a name="l00570"></a>00570       <a class="code" href="structchannel.html">channel</a>-=16;
<a name="l00571"></a>00571       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+2) |= 0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>;  
<a name="l00572"></a>00572       P1OUT=*(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+2);  
<a name="l00573"></a>00573       P5OUT=0x20;
<a name="l00574"></a>00574       P5OUT&amp;=~0x20;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00575"></a>00575     }
<a name="l00576"></a>00576     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>==24) {
<a name="l00577"></a>00577       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+3) |= 0x01;  
<a name="l00578"></a>00578       P2OUT|=0x02;
<a name="l00579"></a>00579     }
<a name="l00580"></a>00580   }
<a name="l00581"></a>00581   <span class="keywordflow">else</span> {
<a name="l00582"></a>00582     <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;8) {
<a name="l00583"></a>00583       *((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state) &amp;= ~(0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>);  
<a name="l00584"></a>00584       P1OUT=*((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state);  
<a name="l00585"></a>00585       P5OUT=0x08;
<a name="l00586"></a>00586       P5OUT&amp;=~0x08;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00587"></a>00587     }
<a name="l00588"></a>00588     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;16) {
<a name="l00589"></a>00589       <a class="code" href="structchannel.html">channel</a>-=8;
<a name="l00590"></a>00590       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+1) &amp;= ~(0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>);  
<a name="l00591"></a>00591       P1OUT=*(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+1);  
<a name="l00592"></a>00592       P5OUT=0x10;
<a name="l00593"></a>00593       P5OUT&amp;=~0x10;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00594"></a>00594     }
<a name="l00595"></a>00595     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>&lt;24) {
<a name="l00596"></a>00596       <a class="code" href="structchannel.html">channel</a>-=16;
<a name="l00597"></a>00597       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+2) &amp;= ~(0x01&lt;&lt;<a class="code" href="structchannel.html">channel</a>);  
<a name="l00598"></a>00598       P1OUT=*(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+2);  
<a name="l00599"></a>00599       P5OUT=0x20;
<a name="l00600"></a>00600       P5OUT&amp;=~0x20;                                           <span class="comment">// clear the chip select bit</span>
<a name="l00601"></a>00601     }
<a name="l00602"></a>00602     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structchannel.html">channel</a>==24) {
<a name="l00603"></a>00603       *(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp;lla_state)+3) &amp;= 0xFE;  
<a name="l00604"></a>00604       P2OUT&amp;=0xFD;
<a name="l00605"></a>00605     }
<a name="l00606"></a>00606   }
<a name="l00607"></a>00607 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a2"></a><!-- doxytag: member="ueaclib.c::dac_translation" ref="a2" args="[]" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">short <a class="el" href="ueaclib_8c.html#a2">dac_translation</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="cal__table_8h-source.html#l00045">45</a> of file <a class="el" href="cal__table_8h-source.html">cal_table.h</a>.
<p>
Referenced by <a class="el" href="calibrate_8c-source.html#l00111">current_output_calibration()</a>, and <a class="el" href="ueaclib_8c-source.html#l00384">write_current()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Apr 20 13:57:27 2006 for uEACos by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
